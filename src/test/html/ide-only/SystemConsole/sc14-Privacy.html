<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://selenium-ide.openqa.org/profiles/test-case">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="selenium.base" href="https://selenium.test.mattermost.com/" />
<title>scPrivacy</title>
</head>
<body>
<table cellpadding="1" cellspacing="1" border="1">
<thead>
<tr><td rowspan="1" colspan="3">scPrivacy</td></tr>
</thead><tbody>
<!--*** Must run sc13-TeammateName.html first, for user & team setup-->
<!--LOG IN admin-->
<tr>
	<td>openAndWait</td>
	<td>/login</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>name=loginId</td>
	<td>admin@test.com</td>
</tr>
<tr>
	<td>type</td>
	<td>name=password</td>
	<td>passwd</td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<!--Sleep-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<!--PRIVACY SETTINGS-->
<tr>
	<td>waitForElementPresent</td>
	<td>link=System Console</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=System Console</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=site_config/users_and_teams</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=site_config/users_and_teams</td>
	<td></td>
</tr>
<!--Show Email - False (show full name - true)-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=PrivacySettings.ShowEmailAddressfalse</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=PrivacySettings.ShowEmailAddressfalse</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForNotEditable</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<!--LOG OUT admin-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=path</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=path</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=li.MenuItem button.style--none:contains('Log Out')</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=li.MenuItem button.style--none:contains('Log Out')</td>
	<td></td>
</tr>
<!--LOG IN usera-->
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<!--Sleep-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginId</td>
	<td>usera</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginPassword</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginPassword</td>
	<td>passwd</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<!--Email (except own) hidden, name visible in member icon > View Members-->
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Town Square</td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Town Square</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=member_popover</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=member_popover</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__button &gt; button.btn.btn-link</td>
	<td>View Members</td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.more-modal__button &gt; button.btn.btn-link</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>usera@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.light</td>
	<td>Firstb Lastb</td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>userb@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userc - (nicknamec)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>userc@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userd - Firstd</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>userd@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@usere - Firste Laste (nicknamee)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>usere@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>admin@test.com</td>
	<td></td>
</tr>
<!--Email (except own) hidden, name visible in profile popovers (in DMs)-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>/msg @userb Hi B!${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>userb</td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=@userb</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.overflow--ellipsis.text-nowrap</td>
	<td>Firstb Lastb</td>
</tr>
<tr>
	<td>waitForElementNotPresent</td>
	<td>link=userb@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>/msg @admin Meep meep${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.channel-intro-profile</td>
	<td>admin</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=@admin</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementNotPresent</td>
	<td>link=admin@test.com</td>
	<td></td>
</tr>
<!--Email (except own) hidden, name visible in main menu (team) > View Members-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#viewMembers &gt; button.style--none.</td>
	<td>View Members</td>
</tr>
<tr>
	<td>click</td>
	<td>css=#viewMembers &gt; button.style--none.</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.modal-header</td>
	<td>Ã—CloseNameDisplay MembersInvite People</td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>usera@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.light</td>
	<td>Firstb Lastb</td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>userb@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userc - (nicknamec)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>userc@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userd - Firstd</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>userd@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@usere - Firste Laste (nicknamee)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>usere@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>admin@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.close</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.close</td>
	<td></td>
</tr>
<!--Cannot open DM with URL constructed using email address-->
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>admin</td>
</tr>
<tr>
	<td>open</td>
	<td>https://selenium.test.mattermost.com/namedisplay/messages/userb@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Town Square</td>
</tr>
<!--Can search by first/last (from: and @-autocomplete)-->
<tr>
	<td>refreshAndWait</td>
	<td></td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=searchBox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=searchBox</td>
	<td>from:Firstb</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.search-autocomplete__item.selected</td>
	<td>userb - Firstb Lastb</td>
</tr>
<tr>
	<td>refreshAndWait</td>
	<td></td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=searchBox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=searchBox</td>
	<td>from:Lastb</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.search-autocomplete__item.selected</td>
	<td>userb - Firstb Lastb</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>@Firstb</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.mention--align</td>
	<td>@userb</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>@lastb</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.mention--align</td>
	<td>@userb</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<!--LOG OUT usera-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#logout &gt; button.style--none</td>
	<td>Log Out</td>
</tr>
<tr>
	<td>click</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<!--LOG IN admin-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<!--Sleep-->
<tr>
	<td>waitForElementPresent</td>
	<td>name=loginId</td>
	<td>admin@test.com</td>
</tr>
<tr>
	<td>type</td>
	<td>name=loginId</td>
	<td>admin@test.com</td>
</tr>
<tr>
	<td>type</td>
	<td>name=password</td>
	<td>passwd</td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<!--Sleep-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<!--Hide first/last names (email already hidden)-->
<tr>
	<td>waitForElementPresent</td>
	<td>link=System Console</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=System Console</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=site_config/users_and_teams</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=site_config/users_and_teams</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=PrivacySettings.ShowFullNamefalse</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=PrivacySettings.ShowFullNamefalse</td>
	<td></td>
</tr>
<tr>
	<td>waitForValue</td>
	<td>id=PrivacySettings.ShowFullNamefalse</td>
	<td>on</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForNotEditable</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<!--Verify admin can see all-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=div.MenuWrapper.AdminSidebarHeader &gt; div</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.MenuWrapper.AdminSidebarHeader &gt; div</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=a</td>
	<td>Switch to NameDisplay</td>
</tr>
<tr>
	<td>click</td>
	<td>css=a</td>
	<td>Switch to NameDisplay</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=headerTeamName</td>
	<td>NameDisplay</td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#sidebarItem_town-square &gt; span.sidebar-item__name &gt; span</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#sidebarItem_town-square &gt; span.sidebar-item__name &gt; span</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Town Square</td>
</tr>
<!--Verify email and name visible in member icon > View Members-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=member_popover</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=member_popover</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__button &gt; button.btn.btn-link</td>
	<td>View Members</td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.more-modal__button &gt; button.btn.btn-link</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>usera@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.light</td>
	<td>Firstb Lastb</td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userb@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userc - (nicknamec)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userc@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userd - Firstd</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userd@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@usere - Firste Laste (nicknamee)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>usere@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>admin@test.com</td>
	<td></td>
</tr>
<tr>
	<td>refreshAndWait</td>
	<td></td>
	<td></td>
</tr>
<!--Verify email and name visible in profile popovers (in DMs)-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>/msg @userb Hi B, it's admin!${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=p.channel-intro-text &gt; span</td>
	<td>This is the start of your direct message history with userb.<br />Direct messages and files shared here are not shown to people outside this area.</td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=@userb</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.overflow--ellipsis.text-nowrap &gt; strong</td>
	<td>Firstb Lastb</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=userb@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>/msg @usera howdy!${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.channel-intro-profile</td>
	<td>usera</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=@usera</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=usera@test.com</td>
	<td></td>
</tr>
<!--Verify email and name visible in main menu (team) > View Members-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#manageMembers &gt; button.style--none.</td>
	<td>Manage Members</td>
</tr>
<tr>
	<td>click</td>
	<td>css=#manageMembers &gt; button.style--none.</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>usera@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.light</td>
	<td>Firstb Lastb</td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userb@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userc - (nicknamec)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userc@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userd - Firstd</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userd@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@usere - Firste Laste (nicknamee)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>usere@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>admin@test.com</td>
	<td></td>
</tr>
<!--Can open DM with URL constructed using email address-->
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>usera</td>
</tr>
<tr>
	<td>open</td>
	<td>https://selenium.test.mattermost.com/namedisplay/messages/userb@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>userb</td>
</tr>
<tr>
	<td>waitForLocation</td>
	<td>https://selenium.test.mattermost.com/namedisplay/messages/@userb</td>
	<td></td>
</tr>
<!--LOG OUT admin-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#logout &gt; button.style--none</td>
	<td>Log Out</td>
</tr>
<tr>
	<td>click</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<!--LOG IN userb-->
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginId</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginId</td>
	<td>userb</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginPassword</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginPassword</td>
	<td>passwd</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<!--Email and name (except own) hidden in member icon > View Members-->
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Town Square</td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Town Square</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=member_popover</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=member_popover</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__button &gt; button.btn.btn-link</td>
	<td>View Members</td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.more-modal__button &gt; button.btn.btn-link</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>usera@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>Firstb Lastb</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userb@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userc - (nicknamec)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>userc@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>@userd - Firstd</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>userd@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@usere - (nicknamee)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>@usere - Firste Laste (nicknamee)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>usere@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>admin@test.com</td>
	<td></td>
</tr>
<!--Email and name (except own) hidden in profile popovers (in DMs)-->
<tr>
	<td>refreshAndWait</td>
	<td></td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>/msg @userd Heya, D!${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>userd</td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=@userd</td>
	<td></td>
</tr>
<tr>
	<td>waitForNotText</td>
	<td>css=div.popover-content &gt; div.overflow--ellipsis.text-nowrap.padding-top</td>
	<td>Firstd</td>
</tr>
<tr>
	<td>waitForElementNotPresent</td>
	<td>link=userd@test.com</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>refreshAndWait</td>
	<td></td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<!--DM with self can see email and name in profile popover-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarSwitcherButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarSwitcherButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=input.form-control.focused</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>css=input.form-control.focused</td>
	<td>userb</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.mentions__name.suggestion--selected</td>
	<td>@userb - Firstb Lastb</td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.mentions__name.suggestion--selected</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.channel-intro-profile</td>
	<td>userb</td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>refreshAndWait</td>
	<td></td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=@userb</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.overflow--ellipsis.text-nowrap</td>
	<td>Firstb Lastb</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=userb@test.com</td>
	<td></td>
</tr>
<!--Email and name (except own) hidden in main menu (team) > View Members-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#viewMembers &gt; button.style--none.</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#viewMembers &gt; button.style--none.</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@usera</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>usera@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>Firstb Lastb</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userb@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userc - (nicknamec)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>userc@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>@userd - Firstd</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>userd@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userd</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@usere - (nicknamee)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>@usere - Firste Laste (nicknamee)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>usere@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>admin@test.com</td>
	<td></td>
</tr>
<!--Cannot search by first/last (from: and @-autocomplete)-->
<tr>
	<td>refreshAndWait</td>
	<td></td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=searchBox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=searchBox</td>
	<td>from:userd</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.search-autocomplete__item.selected</td>
	<td>userd</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=searchBox</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=searchBox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=searchBox</td>
	<td>from:Firstd</td>
</tr>
<tr>
	<td>waitForNotText</td>
	<td>css=div.search-autocomplete__item.selected</td>
	<td>userd</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=searchBox</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=searchBox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>@userd</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.mention--align</td>
	<td>@userd</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>@firstd</td>
</tr>
<tr>
	<td>waitForNotText</td>
	<td>css=div.pull-left.mention--align &gt; span</td>
	<td>@userd</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<!--LOG OUT userb-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#logout &gt; button.style--none</td>
	<td>Log Out</td>
</tr>
<tr>
	<td>click</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<!--LOG IN admin-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>name=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>name=loginId</td>
	<td>admin@test.com</td>
</tr>
<tr>
	<td>type</td>
	<td>name=password</td>
	<td>passwd</td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<!--Sleep-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<!--Show email (first/last names still hidden)-->
<tr>
	<td>waitForElementPresent</td>
	<td>link=System Console</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=System Console</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=site_config/users_and_teams</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=site_config/users_and_teams</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=PrivacySettings.ShowEmailAddresstrue</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=PrivacySettings.ShowEmailAddresstrue</td>
	<td></td>
</tr>
<tr>
	<td>waitForValue</td>
	<td>id=PrivacySettings.ShowEmailAddresstrue</td>
	<td>on</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForNotEditable</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<!--Verify admin can see all-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=div.MenuWrapper.AdminSidebarHeader &gt; div</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.MenuWrapper.AdminSidebarHeader &gt; div</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=a</td>
	<td>Switch to NameDisplay</td>
</tr>
<tr>
	<td>click</td>
	<td>css=a</td>
	<td>Switch to NameDisplay</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=headerTeamName</td>
	<td>NameDisplay</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#sidebarItem_town-square &gt; span.sidebar-item__name &gt; span</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#sidebarItem_town-square &gt; span.sidebar-item__name &gt; span</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Town Square</td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Verify email and name visible in member icon > View Members-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=member_popover</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=member_popover</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__button &gt; button.btn.btn-link</td>
	<td>View Members</td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.more-modal__button &gt; button.btn.btn-link</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>usera@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.light</td>
	<td>Firstb Lastb</td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userb@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userc - (nicknamec)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userc@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userd - Firstd</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userd@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@usere - Firste Laste (nicknamee)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>usere@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>admin@test.com</td>
	<td></td>
</tr>
<tr>
	<td>refreshAndWait</td>
	<td></td>
	<td></td>
</tr>
<!--Verify email and name visible in profile popovers (in DMs)-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>/msg @userb Hi B, it's admin!${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=p.channel-intro-text &gt; span</td>
	<td>This is the start of your direct message history with userb.<br />Direct messages and files shared here are not shown to people outside this area.</td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=@userb</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.overflow--ellipsis.text-nowrap</td>
	<td>Firstb Lastb</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=userb@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>/msg @usera howdy!${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.channel-intro-profile</td>
	<td>usera</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=@usera</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=usera@test.com</td>
	<td></td>
</tr>
<!--Verify email and name visible in main menu (team) > View Members-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#manageMembers &gt; button.style--none.</td>
	<td>Manage Members</td>
</tr>
<tr>
	<td>click</td>
	<td>css=#manageMembers &gt; button.style--none.</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#teamMemberModalLabel &gt; span</td>
	<td>NameDisplay Members</td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>usera@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.light</td>
	<td>Firstb Lastb</td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userb@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userc - (nicknamec)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userc@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userd - Firstd</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userd@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@usere - Firste Laste (nicknamee)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>usere@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>admin@test.com</td>
	<td></td>
</tr>
<!--LOG OUT admin-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#logout &gt; button.style--none</td>
	<td>Log Out</td>
</tr>
<tr>
	<td>click</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<!--LOG IN userb-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginId</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginId</td>
	<td>userb</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginPassword</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginPassword</td>
	<td>passwd</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<!--Email visible, name (except own) hidden in member icon > View Members-->
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=Town Square</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Town Square</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Town Square</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=member_popover</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=member_popover</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__button &gt; button.btn.btn-link</td>
	<td>View Members</td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.more-modal__button &gt; button.btn.btn-link</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>usera@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.light</td>
	<td>Firstb Lastb</td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userb@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userc - (nicknamec)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userc@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>@userd - Firstd</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userd@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>@usere - Firste Laste (nicknamee)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@usere - (nicknamee)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>usere@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>admin@test.com</td>
	<td></td>
</tr>
<!--Email visible, name (except own) hidden in profile popovers (in DMs)-->
<tr>
	<td>refreshAndWait</td>
	<td></td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>/msg @userd Hi D, just me B${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>userd</td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=@userd</td>
	<td></td>
</tr>
<tr>
	<td>waitForNotText</td>
	<td>css=div.popover-content &gt; div.overflow--ellipsis.text-nowrap.padding-top</td>
	<td>Firstd</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=userd@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<!--DM with self can see email and name in profile popover-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarSwitcherButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarSwitcherButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=input.form-control.focused</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>css=input.form-control.focused</td>
	<td>userb</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.mentions__name.suggestion--selected</td>
	<td>@userb - Firstb Lastb</td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.mentions__name.suggestion--selected</td>
	<td>@userb - Firstb Lastb</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.channel-intro-profile</td>
	<td>userb</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=@userb</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.overflow--ellipsis.text-nowrap</td>
	<td>Firstb Lastb</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=userb@test.com</td>
	<td></td>
</tr>
<!--Email visible, name (except own) hidden in main menu (team) > View Members-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#viewMembers &gt; button.style--none.</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#viewMembers &gt; button.style--none.</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#teamMemberModalLabel &gt; span</td>
	<td>NameDisplay Members</td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>usera@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>Firstb Lastb</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userb@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userc - (nicknamec)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userc@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>@userd - Firstd</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userd@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userd</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@usere - (nicknamee)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextNotPresent</td>
	<td>@usere - Firste Laste (nicknamee)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>usere@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>admin@test.com</td>
	<td></td>
</tr>
<!--Cannot search by first/last (from: and @-autocomplete)-->
<tr>
	<td>refreshAndWait</td>
	<td></td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=searchBox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=searchBox</td>
	<td>from:userd</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.search-autocomplete__item.selected</td>
	<td>userd</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=searchBox</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=searchBox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=searchBox</td>
	<td>from:Firstd</td>
</tr>
<tr>
	<td>waitForNotText</td>
	<td>css=div.search-autocomplete__item.selected</td>
	<td>userd</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=searchBox</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=searchBox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>@userd</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.mention--align</td>
	<td>@userd</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>@firstd</td>
</tr>
<tr>
	<td>waitForNotText</td>
	<td>css=div.pull-left.mention--align &gt; span</td>
	<td>@userd</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<!--LOG OUT userb-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#logout &gt; button.style--none</td>
	<td>Log Out</td>
</tr>
<tr>
	<td>click</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<!--LOG IN admin-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>name=loginId</td>
	<td>admin@test.com</td>
</tr>
<tr>
	<td>type</td>
	<td>name=password</td>
	<td>passwd</td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<!--Sleep-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<!--Show email address and full name-->
<tr>
	<td>waitForElementPresent</td>
	<td>link=System Console</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=System Console</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=site_config/users_and_teams</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=site_config/users_and_teams</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=PrivacySettings.ShowFullNametrue</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=PrivacySettings.ShowFullNametrue</td>
	<td></td>
</tr>
<tr>
	<td>waitForValue</td>
	<td>id=PrivacySettings.ShowFullNametrue</td>
	<td>on</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForNotEditable</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<!--Verify admin can see all-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=div.MenuWrapper.AdminSidebarHeader &gt; div</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.MenuWrapper.AdminSidebarHeader &gt; div</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=a</td>
	<td>Switch to NameDisplay</td>
</tr>
<tr>
	<td>click</td>
	<td>css=a</td>
	<td>Switch to NameDisplay</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=headerTeamName</td>
	<td>NameDisplay</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#sidebarItem_town-square &gt; span.sidebar-item__name &gt; span</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#sidebarItem_town-square &gt; span.sidebar-item__name &gt; span</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Town Square</td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Town Square</td>
</tr>
<!--Verify email and name visible in member icon > View Members-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=member_popover</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=member_popover</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__button &gt; button.btn.btn-link</td>
	<td>View Members</td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.more-modal__button &gt; button.btn.btn-link</td>
	<td>View Members</td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>usera@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.light</td>
	<td>Firstb Lastb</td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userb@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userc - (nicknamec)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userc@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userd - Firstd</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userd@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@usere - Firste Laste (nicknamee)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>usere@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>admin@test.com</td>
	<td></td>
</tr>
<tr>
	<td>refreshAndWait</td>
	<td></td>
	<td></td>
</tr>
<!--Verify email and name visible in profile popovers (in DMs)-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>/msg @userb Hi B, it's admin!${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=p.channel-intro-text &gt; span</td>
	<td>This is the start of your direct message history with userb.<br />Direct messages and files shared here are not shown to people outside this area.</td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=@userb</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.overflow--ellipsis.text-nowrap</td>
	<td>Firstb Lastb</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=userb@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>/msg @usera howdy!${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.channel-intro-profile</td>
	<td>usera</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=@usera</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=usera@test.com</td>
	<td></td>
</tr>
<!--Verify email and name visible in main menu (team) > View Members-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>verifyElementPresent</td>
	<td>css=#manageMembers &gt; button.style--none.</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#manageMembers &gt; button.style--none.</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#teamMemberModalLabel &gt; span</td>
	<td>NameDisplay Members</td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>usera@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.light</td>
	<td>Firstb Lastb</td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userb@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userc - (nicknamec)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userc@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userd - Firstd</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userd@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@usere - Firste Laste (nicknamee)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>usere@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>admin@test.com</td>
	<td></td>
</tr>
<!--LOG OUT admin-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#logout &gt; button.style--none</td>
	<td>Log Out</td>
</tr>
<tr>
	<td>click</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<!--LOG IN usera-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginId</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginId</td>
	<td>usera</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginPassword</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginPassword</td>
	<td>passwd</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=Town Square</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Town Square</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Town Square</td>
</tr>
<!--Verify email and name visible in member icon > View Members-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=member_popover</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=member_popover</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__button &gt; button.btn.btn-link</td>
	<td>View Members</td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.more-modal__button &gt; button.btn.btn-link</td>
	<td>View Members</td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>usera@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.light</td>
	<td>Firstb Lastb</td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userb@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userc - (nicknamec)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userc@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userd - Firstd</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userd@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@usere - Firste Laste (nicknamee)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>usere@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>admin@test.com</td>
	<td></td>
</tr>
<tr>
	<td>refreshAndWait</td>
	<td></td>
	<td></td>
</tr>
<!--Verify email and name visible in profile popovers (in DMs)-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>/msg @userb Hi B, it's admin!${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>userb</td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=@userb</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.overflow--ellipsis.text-nowrap</td>
	<td>Firstb Lastb</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=userb@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>/msg @admin aloha!${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.channel-intro-profile</td>
	<td>admin</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.user-popover.style--none</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=@admin</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=admin@test.com</td>
	<td></td>
</tr>
<!--Verify email and name visible in main menu (team) > View Members-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#viewMembers &gt; button.style--none.</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#viewMembers &gt; button.style--none.</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#teamMemberModalLabel &gt; span</td>
	<td>NameDisplay Members</td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>usera@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.light</td>
	<td>Firstb Lastb</td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userb@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userc - (nicknamec)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userc@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@userd - Firstd</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>userd@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>@usere - Firste Laste (nicknamee)</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>usere@test.com</td>
	<td></td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>admin@test.com</td>
	<td></td>
</tr>
<!--Can search by first/last (from: and @-autocomplete)-->
<tr>
	<td>refreshAndWait</td>
	<td></td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=searchBox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=searchBox</td>
	<td>from:Firstb</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.search-autocomplete__item.selected</td>
	<td>userb - Firstb Lastb</td>
</tr>
<tr>
	<td>refreshAndWait</td>
	<td></td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=searchBox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=searchBox</td>
	<td>from:Lastb</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.search-autocomplete__item.selected</td>
	<td>userb - Firstb Lastb</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>@Firstb</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.mention--align</td>
	<td>@userb</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>@lastb</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.mention--align</td>
	<td>@userb</td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}${KEY_BACKSPACE}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<!--Account Settings > Teammate name display set to NICKNAME-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#accountSettings &gt; button.style--none.</td>
	<td>Account Settings</td>
</tr>
<tr>
	<td>click</td>
	<td>css=#accountSettings &gt; button.style--none.</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=displayButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=displayButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=name_formatEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=name_formatEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=name_formatFormatB</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=name_formatFormatB</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#name_formatDesc &gt; span</td>
	<td>Show nickname if one exists, otherwise show first and last name</td>
</tr>
<!--DM name display in LHS = nickname (or first/last if no nickname exists)-->
<tr>
	<td>waitForText</td>
	<td>link=Firstb LastbÃ—</td>
	<td>Firstb LastbÃ—</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarSwitcherButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarSwitcherButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=input.form-control.focused</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>css=input.form-control.focused</td>
	<td>usere</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.mentions__name.suggestion--selected</td>
	<td>@usere - Firste Laste (nicknamee)</td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.mentions__name.suggestion--selected</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>nicknamee</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>link=nicknameeÃ—</td>
	<td>nicknameeÃ—</td>
</tr>
<!--Account Settings > Teammate name display set to FIRST/LAST-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.style--none.</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.style--none.</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=displayButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=displayButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=name_formatEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=name_formatEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=name_formatFormatC</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=name_formatFormatC</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=name_formatDesc</td>
	<td>Show first and last name</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#accountSettingsHeader &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>link=Firste LasteÃ—</td>
	<td>Firste LasteÃ—</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>link=Firstb LastbÃ—</td>
	<td>Firstb LastbÃ—</td>
</tr>
<!--LOG OUT usera-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=#logout &gt; button.style--none</td>
	<td>Log Out</td>
</tr>
<tr>
	<td>click</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<!--*** If not using this setup anymore, log back in as admin and leave the NameDisplay team-->
<!--*** Then go in and deactivate users a through e-->
</tbody></table>
</body>
</html>
