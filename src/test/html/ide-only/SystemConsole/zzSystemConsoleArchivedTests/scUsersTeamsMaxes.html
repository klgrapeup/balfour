<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://selenium-ide.openqa.org/profiles/test-case">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link rel="selenium.base" href="https://selenium.test.mattermost.com/" />
<title>New Test</title>
</head>
<body>
<table cellpadding="1" cellspacing="1" border="1">
<thead>
<tr><td rowspan="1" colspan="3">New Test</td></tr>
</thead><tbody>
<!--LOG IN-->
<tr>
	<td>openAndWait</td>
	<td>/login</td>
	<td></td>
</tr>
<!--DisableAnimations-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>name=loginId</td>
	<td>admin@test.com</td>
</tr>
<tr>
	<td>type</td>
	<td>name=password</td>
	<td>passwd</td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<!--Sleep-->
<tr>
	<td>waitForText</td>
	<td>css=strong.heading</td>
	<td>Town Square</td>
</tr>
<!--Create new team for these tests-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//*[@id='createTeam']/a</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//*[@id='createTeam']/a</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=input.form-control</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>css=input.form-control</td>
	<td>UsersTeamsMaxes</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//button[@type='submit']</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//button[@type='submit']</td>
	<td></td>
</tr>
<tr>
	<td>waitForValue</td>
	<td>css=input.form-control</td>
	<td>usersteamsmaxes</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=headerTeamName</td>
	<td>UsersTeamsMaxes</td>
</tr>
<!--Add two users to team to allow room for testing-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//*[@id='addUsersToTeam']/button</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//*[@id='addUsersToTeam']/button</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>//div[@id=&quot;selectItems&quot;]//*/input</td>
	<td>test8</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__name</td>
	<td>@test8</td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.more-modal__name</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>//div[@id=&quot;selectItems&quot;]//*/input</td>
	<td>test9</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__name</td>
	<td>@test9</td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.more-modal__name</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.multi-select__help &gt; span</td>
	<td>Use ↑↓ to browse, ↵ to select. You can add 18 more people.</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveItems</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveItems</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=member_popover</td>
	<td>3</td>
</tr>
<!--Store number of current users and team invite link for later test-->
<tr>
	<td>storeText</td>
	<td>css=span.icon__text</td>
	<td>usersCurrentTeam</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//*[@id='getTeamInviteLink']/button</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//*[@id='getTeamInviteLink']/button</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//textarea[@id='linkModalTextArea']</td>
	<td></td>
</tr>
<tr>
	<td>storeValue</td>
	<td>//textarea[@id='linkModalTextArea']</td>
	<td>teamInviteLink</td>
</tr>
<!--Open System Console-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=System Console</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=System Console</td>
	<td></td>
</tr>
<!--Max Users Per Team-->
<tr>
	<td>waitForElementPresent</td>
	<td>link=Users and Teams</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Users and Teams</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=h3.admin-console-header &gt; span</td>
	<td>Users and Teams</td>
</tr>
<!--Set max users to number of users on team (stored at beginning of test)-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=TeamSettings.MaxUsersPerTeam</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=TeamSettings.MaxUsersPerTeam</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=TeamSettings.MaxUsersPerTeam</td>
	<td>${usersCurrentTeam}</td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForValue</td>
	<td>id=TeamSettings.MaxUsersPerTeam</td>
	<td>${usersCurrentTeam}</td>
</tr>
<!--LOG OUT admin-->
<tr>
	<td>waitForElementPresent</td>
	<td>//span[@class='menu-icon']</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//span[@class='menu-icon']</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//span [contains(text(),'Logout')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//span [contains(text(),'Logout')]</td>
	<td></td>
</tr>
<!--Open invite link URL and verify can't sign up b/c max number users reached-->
<tr>
	<td>open</td>
	<td>${teamInviteLink}</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=email</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=email</td>
	<td>testmax@test.com</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=name</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=name</td>
	<td>testmax</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=password</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=password</td>
	<td>passwd</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=createAccountButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=createAccountButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=label.control-label</td>
	<td>This team has reached the maximum number of allowed accounts. Contact your System Administrator to set a higher limit.</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//div[@id='root']/div/div/div/div/a/span[2]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//div[@id='root']/div/div/div/div/a/span[2]</td>
	<td></td>
</tr>
<!--Deactivate users below max, verify new user can sign up from team invite link-->
<!--LOG IN admin-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>name=loginId</td>
	<td>admin@test.com</td>
</tr>
<tr>
	<td>type</td>
	<td>name=password</td>
	<td>passwd</td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<!--Sleep-->
<tr>
	<td>waitForText</td>
	<td>css=strong.heading</td>
	<td>Town Square</td>
</tr>
<!--Open System Console-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=System Console</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=System Console</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=Users</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Users</td>
	<td></td>
</tr>
<!--Deactivate testmax and test9-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=searchUsers</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=searchUsers</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=searchUsers</td>
	<td>testmax</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__name</td>
	<td>@testmax</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//div[@class='MenuWrapper ']//*/span[contains(text(),'Member')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//div[@class='MenuWrapper ']//*/span[contains(text(),'Member')]</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//span[contains(text(),'Deactivate')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//span[contains(text(),'Deactivate')]</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-danger</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.btn.btn-danger</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//div[@class='MenuWrapper ']//*/span[contains(text(),'Inactive')]</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=searchUsers</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=searchUsers</td>
	<td>test9</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__name</td>
	<td>@test9</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//div[@class='MenuWrapper ']//*/span[contains(text(),'Member')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//div[@class='MenuWrapper ']//*/span[contains(text(),'Member')]</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//span[contains(text(),'Deactivate')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//span[contains(text(),'Deactivate')]</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-danger</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.btn.btn-danger</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//div[@class='MenuWrapper ']//*/span[contains(text(),'Inactive')]</td>
	<td>Inactive</td>
</tr>
<!--LOG OUT admin-->
<tr>
	<td>waitForElementPresent</td>
	<td>//span[@class='menu-icon']</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//span[@class='menu-icon']</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//span [contains(text(),'Logout')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//span [contains(text(),'Logout')]</td>
	<td></td>
</tr>
<!--Open invite link URL and verify can sign up-->
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>open</td>
	<td>${teamInviteLink}</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=email</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=email</td>
	<td>testokay@test.com</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=name</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=name</td>
	<td>testokay</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=password</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=password</td>
	<td>passwd</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=createAccountButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=createAccountButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=p</td>
	<td>Your team communication all in one place, instantly searchable and available anywhere.</td>
</tr>
<!--LOG OUT testokay-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<!--LOG IN admin-->
<!--DisableAnimations-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<!--Sleep-->
<tr>
	<td>waitForElementPresent</td>
	<td>name=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>name=loginId</td>
	<td>admin@test.com</td>
</tr>
<tr>
	<td>type</td>
	<td>name=password</td>
	<td>passwd</td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<!--Sleep-->
<tr>
	<td>waitForText</td>
	<td>css=strong.heading</td>
	<td>Town Square</td>
</tr>
<!--Set max users per team to current number, open team for others to join-->
<tr>
	<td>waitForText</td>
	<td>css=div.team-container.active &gt; a &gt; div.team-btn. &gt; div.team-btn__content &gt; div.team-btn__initials</td>
	<td>Us</td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.team-container.active &gt; a &gt; div.team-btn. &gt; div.team-btn__content &gt; div.team-btn__initials</td>
	<td>Us</td>
</tr>
<tr>
	<td>waitForTextPresent</td>
	<td>testokay joined the team</td>
	<td></td>
</tr>
<tr>
	<td>storeText</td>
	<td>css=span.icon__text</td>
	<td>usersCurrentTeam2</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//*[@id='teamSettings']/button</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//*[@id='teamSettings']/button</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=open_inviteEdit</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=open_inviteEdit</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=teamOpenInvite</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=teamOpenInvite</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=open_inviteDesc</td>
	<td>Yes</td>
</tr>
<!--Open System Console-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=System Console</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=System Console</td>
	<td></td>
</tr>
<!--Max Users Per Team-->
<tr>
	<td>waitForElementPresent</td>
	<td>link=Users and Teams</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Users and Teams</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=TeamSettings.MaxUsersPerTeam</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=TeamSettings.MaxUsersPerTeam</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=TeamSettings.MaxUsersPerTeam</td>
	<td>${usersCurrentTeam2}</td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForNotEditable</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForValue</td>
	<td>id=TeamSettings.MaxUsersPerTeam</td>
	<td>${usersCurrentTeam2}</td>
</tr>
<!--LOG OUT admin-->
<tr>
	<td>waitForElementPresent</td>
	<td>//span[@class='menu-icon']</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//span[@class='menu-icon']</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//span [contains(text(),'Logout')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//span [contains(text(),'Logout')]</td>
	<td></td>
</tr>
<!--LOG IN test10-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<!--Sleep-->
<tr>
	<td>waitForElementPresent</td>
	<td>name=loginId</td>
	<td>test10</td>
</tr>
<tr>
	<td>type</td>
	<td>name=loginId</td>
	<td>test10</td>
</tr>
<tr>
	<td>type</td>
	<td>name=password</td>
	<td>passwd</td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<!--Sleep-->
<tr>
	<td>waitForText</td>
	<td>css=strong.heading</td>
	<td>Town Square</td>
</tr>
<!--Unable to join from Join Another Team when team is at max users-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//*[@id='joinTeam']/a</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//*[@id='joinTeam']/a</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.signup-team-dir__name</td>
	<td>UsersTeamsMaxes</td>
</tr>
<tr>
	<td>click</td>
	<td>css=span.signup-team-dir__name</td>
	<td>UsersTeamsMaxes</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=label.control-label</td>
	<td>This team has reached the maximum number of allowed accounts. Contact your System Administrator to set a higher limit.</td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<!--Sleep-->
<tr>
	<td>waitForElementPresent</td>
	<td>link=Back</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Back</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Back</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Town Square</td>
</tr>
<!--LOG OUT test1-->
<tr>
	<td>rollup</td>
	<td>logout</td>
	<td></td>
</tr>
<!--LOG IN admin-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>3000</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<!--Sleep-->
<tr>
	<td>waitForElementPresent</td>
	<td>name=loginId</td>
	<td>admin@test.com</td>
</tr>
<tr>
	<td>type</td>
	<td>name=loginId</td>
	<td>admin@test.com</td>
</tr>
<tr>
	<td>type</td>
	<td>name=password</td>
	<td>passwd</td>
</tr>
<tr>
	<td>pause</td>
	<td>1000</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<!--Sleep-->
<!--Sleep-->
<!--Sleep-->
<tr>
	<td>waitForText</td>
	<td>css=strong.heading</td>
	<td>Town Square</td>
</tr>
<!--Open System Console-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=System Console</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=System Console</td>
	<td></td>
</tr>
<!--Max Channels Per Team-->
<tr>
	<td>waitForElementPresent</td>
	<td>link=Users and Teams</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Users and Teams</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=h3.admin-console-header &gt; span</td>
	<td>Users and Teams</td>
</tr>
<!--Set max channels per team to 5-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=TeamSettings.MaxChannelsPerTeam</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=TeamSettings.MaxChannelsPerTeam</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=TeamSettings.MaxChannelsPerTeam</td>
	<td>5</td>
</tr>
<tr>
	<td>waitForValue</td>
	<td>id=TeamSettings.MaxChannelsPerTeam</td>
	<td>5</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForValue</td>
	<td>id=TeamSettings.MaxChannelsPerTeam</td>
	<td>5</td>
</tr>
<!--Verify can create up to 5 channels on UsersTeamsMaxes team-->
<tr>
	<td>waitForElementPresent</td>
	<td>//span[@class='menu-icon']</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//span[@class='menu-icon']</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//li[@class='MenuItem']/a[contains(text(),'Switch to&nbsp;&nbsp;UsersTeamsMaxes')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//li[@class='MenuItem']/a[contains(text(),'Switch to&nbsp;&nbsp;UsersTeamsMaxes')]</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=createPublicChannel</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=createPublicChannel</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=newPublicChannelName</td>
	<td>Third</td>
</tr>
<tr>
	<td>click</td>
	<td>css=form.form-horizontal &gt; div.modal-footer &gt; button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=createPublicChannel</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=createPublicChannel</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=newPublicChannelName</td>
	<td>Fourth</td>
</tr>
<tr>
	<td>click</td>
	<td>css=form.form-horizontal &gt; div.modal-footer &gt; button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=createPrivateChannel</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=createPrivateChannel</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=newPrivateChannelName</td>
	<td>Fifth</td>
</tr>
<tr>
	<td>click</td>
	<td>css=form.form-horizontal &gt; div.modal-footer &gt; button.btn.btn-primary</td>
	<td></td>
</tr>
<!--Verify can't create 6th channel on this team-->
<tr>
	<td>click</td>
	<td>id=createPublicChannel</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=newPublicChannelName</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=newPublicChannelName</td>
	<td>OverMax</td>
</tr>
<tr>
	<td>click</td>
	<td>css=form.form-horizontal &gt; div.modal-footer &gt; button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=p.input__help.error</td>
	<td>Unable to create more than 5 channels for current team</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.modal-footer &gt; button.btn.btn-link</td>
	<td>Cancel</td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.modal-footer &gt; button.btn.btn-link</td>
	<td>Cancel</td>
</tr>
<!--Delete channel, still counts toward max and can't create new-->
<tr>
	<td>waitForText</td>
	<td>css=strong.heading</td>
	<td>Fifth</td>
</tr>
<tr>
	<td>click</td>
	<td>css=strong.heading</td>
	<td></td>
</tr>
<tr>
	<td>rollup</td>
	<td>chanMenuItemVerifyAndSelect</td>
	<td>Item=Archive Channel</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.alert.alert-danger &gt; span</td>
	<td>This will archive the channel from the team and make its contents inaccessible for all users.<br /><br />Are you sure you wish to archive the Fifth channel?</td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.btn.btn-danger</td>
	<td></td>
</tr>
<tr>
	<td>waitForNotText</td>
	<td>css=div.alert.alert-danger &gt; span</td>
	<td>This will archive the channel from the team and make its contents inaccessible for all users.<br /><br />Are you sure you wish to archive the Fifth channel?</td>
</tr>
<tr>
	<td>click</td>
	<td>id=createPublicChannel</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=newPublicChannelName</td>
	<td>StillOverMax</td>
</tr>
<tr>
	<td>click</td>
	<td>css=form.form-horizontal &gt; div.modal-footer &gt; button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=p.input__help.error</td>
	<td>Unable to create more than 5 channels for current team</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.modal-footer &gt; button.btn.btn-link</td>
	<td>Cancel</td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.modal-footer &gt; button.btn.btn-link</td>
	<td>Cancel</td>
</tr>
<!--Open System Console-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>Link=System Console</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>Link=System Console</td>
	<td></td>
</tr>
<!--Max Notifications Per Channel-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=users_and_teams</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=users_and_teams</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=h3.admin-console-header &gt; span</td>
	<td>Users and Teams</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=TeamSettings.MaxNotificationsPerChannel</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=TeamSettings.MaxNotificationsPerChannel</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=TeamSettings.MaxNotificationsPerChannel</td>
	<td>3</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<!--@-channel posts and triggers mention for other user-->
<tr>
	<td>waitForValue</td>
	<td>id=TeamSettings.EnableConfirmNotificationsToChanneltrue</td>
	<td>on</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//span[@class='menu-icon']</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//span[@class='menu-icon']</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//li[@class='MenuItem']/a[contains(text(),'Switch to&nbsp;&nbsp;UsersTeamsMaxes')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//li[@class='MenuItem']/a[contains(text(),'Switch to&nbsp;&nbsp;UsersTeamsMaxes')]</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=strong.heading</td>
	<td>Town Square</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=Off-Topic</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Off-Topic</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Off-Topic</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=member_popover</td>
	<td>3</td>
</tr>
<!--Verify no warning because not over max users on at-all, at-channel-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>hello @all${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.mention--highlight &gt; span</td>
	<td>@all</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>@channel you're nice!${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=span.mention--highlight &gt; span:contains('@channel')</td>
	<td></td>
</tr>
<!--Log out and back in as testokay to verify mention notifications-->
<!--LOG OUT admin-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<!--LOG IN testokay-->
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginId</td>
	<td>testokay</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginPassword</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginPassword</td>
	<td>passwd</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<!--Verify notifications-->
<!--(First skip tutorial to get it out of the way)-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=#tutorialSkipLink &gt; span</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#tutorialSkipLink &gt; span</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Town Square</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=span.badge</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.badge</td>
	<td>2</td>
</tr>
<tr>
	<td>click</td>
	<td>css=span.badge</td>
	<td>2</td>
</tr>
<tr>
	<td>waitForNotVisible</td>
	<td>css=span.badge</td>
	<td></td>
</tr>
<!--LOG OUT testokay-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<!--LOG IN admin-->
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginId</td>
	<td>admin</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginPassword</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginPassword</td>
	<td>passwd</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//a[@href='/usersteamsmaxes']</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//a[@href='/usersteamsmaxes']</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=headerTeamName</td>
	<td>UsersTeamsMaxes</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>//div[@id='sidebarChannelContainer']/ul/li[5]/a/span[2]/span</td>
	<td>Town Square</td>
</tr>
<tr>
	<td>click</td>
	<td>//div[@id='sidebarChannelContainer']/ul/li[5]/a/span[2]/span</td>
	<td>Town Square</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Town Square</td>
</tr>
<!--Change max users back to default 50-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>Link=System Console</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>Link=System Console</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#users_and_teams &gt; span.sidebar-section.sidebar-subsection-title__text &gt; span</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#users_and_teams &gt; span.sidebar-section.sidebar-subsection-title__text &gt; span</td>
	<td></td>
</tr>
<tr>
	<td>waitForValue</td>
	<td>id=TeamSettings.MaxUsersPerTeam</td>
	<td>3</td>
</tr>
<tr>
	<td>type</td>
	<td>id=TeamSettings.MaxUsersPerTeam</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=TeamSettings.MaxUsersPerTeam</td>
	<td>50</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForValue</td>
	<td>id=TeamSettings.MaxUsersPerTeam</td>
	<td>50</td>
</tr>
<tr>
	<td>waitForNotEditable</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<!--Add users to team to trigger no notifications and warning-->
<tr>
	<td>waitForElementPresent</td>
	<td>//span[@class='menu-icon']</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//span[@class='menu-icon']</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//li[@class='MenuItem']/a[contains(text(),'Switch to&nbsp;&nbsp;UsersTeamsMaxes')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//li[@class='MenuItem']/a[contains(text(),'Switch to&nbsp;&nbsp;UsersTeamsMaxes')]</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//*[@id='addUsersToTeam']/button</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//*[@id='addUsersToTeam']/button</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//div[@id=&quot;selectItems&quot;]//*/input</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>//div[@id=&quot;selectItems&quot;]//*/input</td>
	<td>test3</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__name</td>
	<td>@test3</td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.more-modal__name</td>
	<td>@test3</td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>//div[@id=&quot;selectItems&quot;]//*/input</td>
	<td>test5</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__name</td>
	<td>@test5</td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.more-modal__name</td>
	<td>@test5</td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>//div[@id=&quot;selectItems&quot;]//*/input</td>
	<td>test6</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__name</td>
	<td>@test6</td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.more-modal__name</td>
	<td>@test6</td>
</tr>
<tr>
	<td>waitForNotText</td>
	<td>css=div.more-modal__name</td>
	<td>@test6</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveItems</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveItems</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelMemberCountText</td>
	<td>6</td>
</tr>
<!--Switch to Off-Topic and post at-all and at-channel-->
<tr>
	<td>waitForElementPresent</td>
	<td>link=Off-Topic</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Off-Topic</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Off-Topic</td>
</tr>
<!--@-channel posts and prompts warning (but will not trigger mention)-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>@channel again, no notify!${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>//div[2]/div/div/div[2]/span</td>
	<td>exact:By using @all or @channel you are about to send notifications to 5 people. Are you sure you want to do this?</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=p:contains('@channel again, no notify!')</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=p:contains('@channel has been disabled because the channel has more than 3 users.')</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=span:contains('(Only visible to you)')</td>
	<td></td>
</tr>
<!--@-all posts and prompts warning (but will not trigger mention)-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>@all again, no notify here either!${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>//div[2]/div/div/div[2]/span</td>
	<td>exact:By using @all or @channel you are about to send notifications to 5 people. Are you sure you want to do this?</td>
</tr>
<!--Cancel out of warning, message does not post-->
<tr>
	<td>waitForText</td>
	<td>css=div.modal-footer &gt; button.btn.btn-link</td>
	<td>Cancel</td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.modal-footer &gt; button.btn.btn-link</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=post_textbox</td>
	<td>@all again, no notify here either!</td>
</tr>
<!--Post at-all message-->
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>${KEY_ENTER}</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.modal-body &gt; span</td>
	<td>exact:By using @all or @channel you are about to send notifications to 5 people. Are you sure you want to do this?</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.btn.btn-primary</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=p:contains('@all again, no notify here either!')</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=p:contains('@all has been disabled because the channel has more than 3 users.')</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=span:contains('(Only visible to you)')</td>
	<td></td>
</tr>
<!--Log out and in as testokay to verify no mention notifications-->
<!--LOG OUT admin-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<!--LOG IN testokay-->
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginId</td>
	<td>testokay</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginPassword</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginPassword</td>
	<td>passwd</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<!--Verify no notifications-->
<tr>
	<td>waitForText</td>
	<td>css=a.sidebar-item.unread-title</td>
	<td>Off-Topic</td>
</tr>
<tr>
	<td>waitForNotVisible</td>
	<td>css=span.badge</td>
	<td></td>
</tr>
<!--Verify messages posted, but ephemeral messages did not-->
<tr>
	<td>waitForElementPresent</td>
	<td>link=Off-Topic</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Off-Topic</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=p:contains('@channel again, no notify!')</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementNotPresent</td>
	<td>css=p:contains('@channel has been disabled because the channel has more than 5 users.')</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=p:contains('@all again, no notify here either!')</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementNotPresent</td>
	<td>css=p:contains('@all has been disabled because the channel has more than 5 users.')</td>
	<td></td>
</tr>
<!--Log out and back in as admin to turn off warning for at-all, at-channel-->
<!--LOG OUT testokay-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=#logout &gt; button.style--none</td>
	<td></td>
</tr>
<!--LOG IN admin-->
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginId</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginId</td>
	<td>admin</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginPassword</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=loginPassword</td>
	<td>passwd</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=loginButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=System Console</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=System Console</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=users_and_teams</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=users_and_teams</td>
	<td></td>
</tr>
<!--Disable warning for at-channel, at-all-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=TeamSettings.EnableConfirmNotificationsToChannelfalse</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=TeamSettings.EnableConfirmNotificationsToChannelfalse</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//span[@class='menu-icon']</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//span[@class='menu-icon']</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//li[@class='MenuItem']/a[contains(text(),'Switch to&nbsp;&nbsp;UsersTeamsMaxes')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//li[@class='MenuItem']/a[contains(text(),'Switch to&nbsp;&nbsp;UsersTeamsMaxes')]</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Town Square</td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=Off-Topic</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Off-Topic</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>One last time, @channel, with no confirmation prompt${KEY_ENTER}</td>
</tr>
<!--Message posts with no confirmation required (but notifications still disabled)-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=p:contains('One last time, @channel, with no confirmation prompt')</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=p:contains('@channel has been disabled because the channel has more than 3 users.')</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=post_textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=post_textbox</td>
	<td>One last time, @all, with no confirmation prompt${KEY_ENTER}</td>
</tr>
<!--Message posts with no confirmation required (but notifications still disabled)-->
<tr>
	<td>waitForElementPresent</td>
	<td>css=p:contains('One last time, @all, with no confirmation prompt')</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=p:contains('@all has been disabled because the channel has more than 3 users.')</td>
	<td></td>
</tr>
<!--Return maximum settings to defaults-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>link=System Console</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=System Console</td>
	<td></td>
</tr>
<!--Set Max Users Per Team back to 50-->
<tr>
	<td>waitForElementPresent</td>
	<td>link=Users and Teams</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Users and Teams</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=h3.admin-console-header &gt; span</td>
	<td>Users and Teams</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=TeamSettings.MaxUsersPerTeam</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=TeamSettings.MaxUsersPerTeam</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=TeamSettings.MaxUsersPerTeam</td>
	<td>50</td>
</tr>
<tr>
	<td>waitForValue</td>
	<td>id=TeamSettings.MaxUsersPerTeam</td>
	<td>50</td>
</tr>
<!--Set Max channels back to 2000-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=TeamSettings.MaxChannelsPerTeam</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=TeamSettings.MaxChannelsPerTeam</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=TeamSettings.MaxChannelsPerTeam</td>
	<td>2000</td>
</tr>
<tr>
	<td>waitForValue</td>
	<td>id=TeamSettings.MaxChannelsPerTeam</td>
	<td>2000</td>
</tr>
<!--Max notifications back to 1000-->
<tr>
	<td>waitForElementPresent</td>
	<td>id=TeamSettings.MaxNotificationsPerChannel</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=TeamSettings.MaxNotificationsPerChannel</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=TeamSettings.MaxNotificationsPerChannel</td>
	<td>1000</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>waitForNotEditable</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>refreshAndWait</td>
	<td></td>
	<td></td>
</tr>
<tr>
	<td>waitForValue</td>
	<td>id=TeamSettings.MaxNotificationsPerChannel</td>
	<td>1000</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=TeamSettings.EnableConfirmNotificationsToChanneltrue</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=TeamSettings.EnableConfirmNotificationsToChanneltrue</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=saveSetting</td>
	<td></td>
</tr>
<!--Cleanup: Reactivate test9 and deactivate testokay-->
<tr>
	<td>waitForElementPresent</td>
	<td>link=Users</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>link=Users</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=searchUsers</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=searchUsers</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=searchUsers</td>
	<td>testokay</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__name</td>
	<td>@testokay</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//div[@class='MenuWrapper ']//*/span[contains(text(),'Member')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//div[@class='MenuWrapper ']//*/span[contains(text(),'Member')]</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//span[contains(text(),'Deactivate')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//span[contains(text(),'Deactivate')]</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-danger</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.btn.btn-danger</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//div[@class='MenuWrapper ']//*/span[contains(text(),'Inactive')]</td>
	<td></td>
</tr>
<tr>
	<td>type</td>
	<td>id=searchUsers</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>id=searchUsers</td>
	<td>test9</td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=div.more-modal__name</td>
	<td>@test9</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//div[@class='MenuWrapper ']//*/span[contains(text(),'Inactive')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//div[@class='MenuWrapper ']//*/span[contains(text(),'Inactive')]</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//span[contains(text(),'Activate')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//span[contains(text(),'Activate')]</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//div[@class='MenuWrapper ']//*/span[contains(text(),'Member')]</td>
	<td></td>
</tr>
<!--Cleanup: Remove default test users from team, leave team-->
<tr>
	<td>waitForElementPresent</td>
	<td>//span[@class='menu-icon']</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//span[@class='menu-icon']</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//li[@class='MenuItem']/a[contains(text(),'Switch to&nbsp;&nbsp;UsersTeamsMaxes')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//li[@class='MenuItem']/a[contains(text(),'Switch to&nbsp;&nbsp;UsersTeamsMaxes')]</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>id=channelHeaderDropdownButton</td>
	<td>Town Square</td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//*[@id='manageMembers']/button</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//*[@id='manageMembers']/button</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.member-count.pull-left &gt; span</td>
	<td>1 - 6 members of 6 total</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=input.form-control.filter-textbox</td>
	<td></td>
</tr>
<tr>
	<td>sendKeys</td>
	<td>css=input.form-control.filter-textbox</td>
	<td>test</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//div[@class='MenuWrapper ']//*/span[contains(text(),'Member')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//div[@class='MenuWrapper ']//*/span[contains(text(),'Member')]</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//li[@class='MenuItem']//*/span[contains(text(),'Remove From Team')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//li[@class='MenuItem']//*/span[contains(text(),'Remove From Team')]</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.member-count.pull-left &gt; span</td>
	<td>5 members of 5 total</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//div[@class='MenuWrapper ']//*/span[contains(text(),'Member')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//div[@class='MenuWrapper ']//*/span[contains(text(),'Member')]</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//li[@class='MenuItem']//*/span[contains(text(),'Remove From Team')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//li[@class='MenuItem']//*/span[contains(text(),'Remove From Team')]</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.member-count.pull-left &gt; span</td>
	<td>4 members of 4 total</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//div[@class='MenuWrapper ']//*/span[contains(text(),'Member')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//div[@class='MenuWrapper ']//*/span[contains(text(),'Member')]</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//li[@class='MenuItem']//*/span[contains(text(),'Remove From Team')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//li[@class='MenuItem']//*/span[contains(text(),'Remove From Team')]</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.member-count.pull-left &gt; span</td>
	<td>3 members of 3 total</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//div[@class='MenuWrapper ']//*/span[contains(text(),'Member')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//div[@class='MenuWrapper ']//*/span[contains(text(),'Member')]</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//li[@class='MenuItem']//*/span[contains(text(),'Remove From Team')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//li[@class='MenuItem']//*/span[contains(text(),'Remove From Team')]</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.member-count.pull-left &gt; span</td>
	<td>2 members of 2 total</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//div[@class='MenuWrapper ']//*/span[contains(text(),'Member')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//div[@class='MenuWrapper ']//*/span[contains(text(),'Member')]</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//li[@class='MenuItem']//*/span[contains(text(),'Remove From Team')]</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//li[@class='MenuItem']//*/span[contains(text(),'Remove From Team')]</td>
	<td></td>
</tr>
<tr>
	<td>waitForText</td>
	<td>css=span.member-count.pull-left &gt; span</td>
	<td>1 member of 1 total</td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=div.more-modal.modal-dialog &gt; div.modal-content &gt; div.modal-header &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=div.more-modal.modal-dialog &gt; div.modal-content &gt; div.modal-header &gt; button.close</td>
	<td></td>
</tr>
<tr>
	<td>pause</td>
	<td>2000</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>id=sidebarHeaderDropdownButton</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>//*[@id='leaveTeam']/button</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>//*[@id='leaveTeam']/button</td>
	<td></td>
</tr>
<tr>
	<td>waitForElementPresent</td>
	<td>css=button.btn.btn-danger</td>
	<td></td>
</tr>
<tr>
	<td>click</td>
	<td>css=button.btn.btn-danger</td>
	<td></td>
</tr>
<tr>
	<td>waitForNotText</td>
	<td>id=headerTeamName</td>
	<td>UsersTeamsMaxes</td>
</tr>
<!--LOG OUT admin-->
<tr>
	<td>rollup</td>
	<td>logout</td>
	<td></td>
</tr>
</tbody></table>
</body>
</html>
